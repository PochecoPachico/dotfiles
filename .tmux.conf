# power line
run-shell "powerline-daemon -q"
if-shell "uname | grep -q Darwin" "source '/Users/shioura/Library/Python/2.7/lib/python/site-packages/powerline/bindings/tmux/powerline.conf'" "source ~/.local/lib/python2.7/site-packages/powerline/bindings/tmux/powerline.conf"

# escの反応が遅いので
set-option -s escape-time 0

# バッファをスクロールで操作
# set-window-option -g mode-mouse on

# クリップボード共有
bind-key -t emacs-copy C-w copy-pipe "xclip -i -selection clipboard"
bind-key ] run "tmux set-buffer -- \"$(xclip -o -selection clipboard)\"; tmux paste-buffer"

# 文字コード関連
setw -g utf8 on
set -g status-utf8 on

# status line を更新する間隔を 1 秒にする
set-option -g status-interval 1

# vimのカラースキームを適用
set-option -g default-terminal screen-256color

# ウインドウリストの位置
set -g status-justify left

# カラー
set -g status-fg colour231
set -g status-bg colour234
# 左部分
set -g status-left-length 20
set -qg status-left '#{?client_prefix,#[fg=colour254]#[bg=colour31]#[bold],#[fg=colour16]#[bg=colour254]#[bold]} #S #{?client_prefix,#[fg=colour31]#[bg=colour234]#[nobold],#[fg=colour254]#[bg=colour234]#[nobold]}#(eval $POWERLINE_COMMAND tmux left)'
# 右部分
set -g status-right-length 150
set -g status-right '#(eval $POWERLINE_COMMAND tmux right -R pane_id=`tmux display -p "#D"`)'
set -g status-right "[%Y-%m-%d(%a) %H:%M:%S]"
# ウインドウ
set -g window-status-format "#[fg=colour244,bg=colour234]  #I #[fg=colour240] #[default]#W "
set -g window-status-current-format "#[fg=colour234,bg=colour31]#[fg=colour117,bg=colour31] #I  #[fg=colour231,bold]#W #[fg=colour31,bg=colour234,nobold]"
setw -g window-status-fg colour249
set -qg window-status-last-fg colour31
setw -g window-status-activity-attr none
setw -g window-status-activity-fg yellow
setw -g window-status-bell-attr none
setw -g window-status-bell-fg red

# ペインボーダーの色を設定する
set -g pane-border-fg green
set -g pane-border-bg black

# アクティブなペインを目立たせる
set -g pane-active-border-fg white
set -g pane-active-border-bg yellow

# ペインの番号の長さを変更
set -g  display-panes-time 10000

# コマンドラインの色を設定する
set -g message-fg white
set -g message-bg black
set -g message-attr bright


# 設定ファイルをリロードする
bind r source-file ~/.tmux.conf \; display "Reloaded!"

# vimのキーバインドでペイン移動
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# ペインのリサイズ
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# 画面分割 生成した時に現在開いているディレクトリを開くようにする
# あと画面分割時のキーバインド変更
bind c new-window -c '#{pane_current_path}'
bind - split-window -c '#{pane_current_path}'
bind | split-window -h -c '#{pane_current_path}'
